(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6547],{18463:function(e,t,n){"use strict";var r=n(87462),a=n(45987),i=n(67294);n(45697);var o=n(86010),s=n(79895),c=n(1591),l=i.forwardRef(function(e,t){var n=e.classes,c=e.className,l=e.raised,d=(0,a.Z)(e,["classes","className","raised"]);return i.createElement(s.Z,(0,r.Z)({className:(0,o.Z)(n.root,c),elevation:void 0!==l&&l?8:1,ref:t},d))});t.Z=(0,c.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(l)},79912:function(e,t,n){"use strict";var r=n(87462),a=n(45987),i=n(67294);n(45697);var o=n(86010),s=n(1591),c=i.forwardRef(function(e,t){var n=e.classes,s=e.className,c=e.component,l=(0,a.Z)(e,["classes","className","component"]);return i.createElement(void 0===c?"div":c,(0,r.Z)({className:(0,o.Z)(n.root,s),ref:t},l))});t.Z=(0,s.Z)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(c)},41749:function(e,t,n){"use strict";var r=n(45987),a=n(87462),i=n(67294);n(45697);var o=n(86010),s=n(1591),c=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=i.forwardRef(function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,c=e.alignItems,l=void 0===c?"stretch":c,d=e.classes,u=e.className,f=e.component,p=e.container,x=e.direction,m=void 0===x?"row":x,h=e.item,g=e.justify,v=void 0===g?"flex-start":g,w=e.lg,Z=void 0!==w&&w,b=e.md,j=void 0!==b&&b,y=e.sm,C=void 0!==y&&y,k=e.spacing,S=void 0===k?0:k,_=e.wrap,N=void 0===_?"wrap":_,W=e.xl,M=void 0!==W&&W,R=e.xs,B=void 0!==R&&R,E=e.zeroMinWidth,I=(0,r.Z)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),T=(0,o.Z)(d.root,u,void 0!==p&&p&&[d.container,0!==S&&d["spacing-xs-".concat(String(S))]],void 0!==h&&h&&d.item,void 0!==E&&E&&d.zeroMinWidth,"row"!==m&&d["direction-xs-".concat(String(m))],"wrap"!==N&&d["wrap-xs-".concat(String(N))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==s&&d["align-content-xs-".concat(String(s))],"flex-start"!==v&&d["justify-xs-".concat(String(v))],!1!==B&&d["grid-xs-".concat(String(B))],!1!==C&&d["grid-sm-".concat(String(C))],!1!==j&&d["grid-md-".concat(String(j))],!1!==Z&&d["grid-lg-".concat(String(Z))],!1!==M&&d["grid-xl-".concat(String(M))]);return i.createElement(void 0===f?"div":f,(0,a.Z)({className:T,ref:t},I))}),f=(0,s.Z)(function(e){var t;return(0,a.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},(t={},c.forEach(function(n){var r=e.spacing(n);0!==r&&(t["spacing-".concat("xs","-").concat(n)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})}),t),e.breakpoints.keys.reduce(function(t,n){var r,i,o;return r=t,i=e,o={},l.forEach(function(e){var t="grid-".concat(n,"-").concat(e);if(!0===e){o[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if("auto"===e){o[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var r="".concat(Math.round(e/12*1e8)/1e6,"%");o[t]={flexBasis:r,flexGrow:0,maxWidth:r}}),"xs"===n?(0,a.Z)(r,o):r[i.breakpoints.up(n)]=o,t},{}))},{name:"MuiGrid"})(u);t.Z=f},13871:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var a=r(n(67294)),i=(0,r(n(2108)).default)(a.default.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");t.Z=i},17726:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/schemas/import",function(){return n(70712)}])},70712:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85893),a=n(8920),i=n(43832),o=n(41749),s=n(22318),c=n(18463),l=n(79912),d=n(282),u=n(95477),f=n(11163),p=n(67294),x=n(33512),m=n(74665),h=n(93736),g=n(92122),v=n(69947);function w(){let[e,t]=(0,p.useState)(),[n,w]=(0,p.useState)(!1),[Z,b]=(0,p.useState)(),{push:j}=(0,f.useRouter)(),{refresh:y}=(0,p.useContext)(g.Z),C=(0,p.useCallback)(async t=>{let n;try{w(!0);let r=new FormData;r.append("file",e),n=await fetch("/rest/schemas/import".concat(t?"?id="+encodeURIComponent(t):""),{method:"POST",body:r}).then(e=>e.json())}catch(e){n={error:"An unknown error occurred while attempting to restore your schema. Please try again later. "}}n.success?(await j("/schemas"),y(),(0,m.Z)("Schema ".concat(n.schema.name," restored from backup."))):n.overwrite?(w(!1),await (0,v.Z)({message:(0,r.jsxs)("span",{children:["Warning: this will overwrite the"," ",(0,r.jsx)("b",{style:{color:"dark"===k.palette.type?k.palette.primary.light:k.palette.primary.main},children:n.overwrite.name})," ","schema. Are you sure you want to continue?"]}),confirmButtonText:(0,r.jsxs)("span",{children:["Overwrite"," ",(0,r.jsxs)("span",{style:{textTransform:"none"},children:['"',n.overwrite.name,'"']})]}),danger:!0})&&C(n.overwrite.id)):(b(n.errors),w(!1))},[e,y]),k=(0,a.Z)();return(0,r.jsx)(i.Z,{maxWidth:"xl",style:{marginTop:k.spacing(4)},children:(0,r.jsxs)(o.Z,{container:!0,spacing:3,children:[Z&&(0,r.jsx)(o.Z,{item:!0,xs:12,children:Z.map((e,t)=>(0,r.jsx)(h.Z,{children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})},t))}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{variant:"h1",children:"Restore Schema From a Backup"})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(c.Z,{variant:"outlined",children:(0,r.jsx)(l.Z,{children:(0,r.jsxs)(s.Z,{variant:"body2",component:"div",children:["Here you can restore a schema from a backup file that has been exported from Mockaroo. To backup a schema, nagivate to the schema as select ",(0,r.jsx)("i",{children:"More > Backup to file..."})," from the menu at the bottom of the page."]})})})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{placeholder:"Backup File",onChange:e=>t(e.currentTarget.files[0])})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(d.Z,{color:"secondary",variant:"contained",disabled:!e||n,onClick:()=>C(),startIcon:n&&(0,r.jsx)(u.Z,{size:16,color:"inherit"}),children:"Restore from Backup"})})]})})}},93736:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(85893),a=n(41120),i=n(59693),o=n(86010);let s=(0,a.Z)(e=>({root:{padding:e.spacing(1.2,2),borderRadius:5},error:{color:"white",backgroundColor:(0,i._j)(e.palette.error.main,.2)},info:{backgroundColor:e.palette.background.paper,border:e.palette.divider}}));function c(e){let{variant:t="error",...n}=e,a=s();return(0,r.jsx)("div",{className:(0,o.Z)({[a.root]:!0,[a.error]:"error"===t,[a.info]:"info"===t}),...n})}},33512:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),a=n(41120),i=n(33426),o=n(282),s=n(67294),c=n(13871),l=n(86010);let d=(0,a.Z)(e=>({root:{display:"flex",flexDirection:"row",position:"relative"},inputBase:{paddingRight:0},input:{width:300,paddingRight:e.spacing(2)},button:{maxWidth:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0},label:{display:"flex",height:"100%"},buttonLabel:{whiteSpace:"nowrap"},file:{position:"absolute",zIndex:-1,top:0,left:0,opacity:0}}));function u(e){let{placeholder:t,className:n,buttonText:a,classes:u,onChange:f}=e,p=(0,s.useMemo)(()=>"__FileField__",[]);u=d({classes:u});let x=(0,s.useRef)(),[m,h]=(0,s.useState)(""),g=(0,s.useCallback)(e=>{h(e.target.files[0].name),f(e)},[f]);return(0,r.jsxs)("div",{className:(0,l.Z)([n,u.root]),children:[(0,r.jsx)(i.Z,{variant:"outlined",size:"small",value:m,placeholder:t,InputProps:{classes:{adornedEnd:u.inputBase,input:u.input},readOnly:!0,endAdornment:(0,r.jsx)("label",{htmlFor:p,ref:x,className:u.label,children:(0,r.jsx)(o.Z,{variant:"contained",color:"primary",classes:{root:u.button,label:u.buttonLabel},onClick:()=>x.current.click(),startIcon:(0,r.jsx)(c.Z,{}),children:a})})}}),(0,r.jsx)("input",{type:"file",onChange:g,className:u.file,id:p})]})}u.defaultProps={buttonText:"Select File"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=17726)}),_N_E=e.O()}]);