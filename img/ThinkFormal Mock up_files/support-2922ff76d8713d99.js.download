(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5563],{92796:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/support",function(){return i(51309)}])},51309:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return j}});var r=i(85893),n=i(8920),s=i(43832),a=i(41749),o=i(22318),u=i(79895),l=i(33426),c=i(282),d=i(95477),h=i(68794),m=i(67294),x=i(28295),p=i(92122),Z=i(74665),f=i(11163),g=i(50259);function j(){let e=(0,n.Z)(),{session:t}=(0,m.useContext)(p.Z),{push:i}=(0,f.useRouter)(),{executeRecaptcha:j}=(0,g.xX)(),w=(0,m.useCallback)(e=>{let{email:i,text:r}=e,n={};return t.user||(i?(0,x.Z)(i)||(n.email="Value must be a valid email address."):n.email="This field is required."),0===r.trim().length&&(n.text="This field is required."),n},[t.user]),b=(0,m.useCallback)(async e=>{try{let t=await j("support"),r=await fetch("/rest/comments",{method:"POST",body:JSON.stringify({...e,recaptcha_token:t}),headers:{"Content-Type":"application/json"}}).then(e=>e.json());if(r.success){await i("/"),(0,Z.Z)("Your support request has been submitted. We will get back to your shortly.");return}}catch(e){console.error(e)}(0,Z.Z)("An error ocurred while attempting to submit your request. Please try again later")},[t.user]),{values:y,handleChange:k,handleSubmit:C,isSubmitting:_,errors:v}=(0,h.TA)({initialValues:{email:t.user||"",text:""},validate:w,validateOnChange:!1,validateOnBlur:!1,onSubmit:b});return(0,r.jsx)(s.Z,{maxWidth:"xl",style:{marginTop:e.spacing(4)},children:(0,r.jsx)("form",{onSubmit:C,children:(0,r.jsxs)(a.Z,{container:!0,spacing:3,children:[(0,r.jsx)(a.Z,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{variant:"h1",children:"Contact Support"})}),(0,r.jsx)(a.Z,{item:!0,xs:12,children:(0,r.jsxs)(u.Z,{style:{padding:e.spacing(2)},children:["Have a question about how Mockaroo works? Consider asking it in the ",(0,r.jsx)("a",{target:"_blank",children:"Mockaroo Community Forum"}),". That way everyone benefits!"]})}),!t.user&&(0,r.jsxs)(a.Z,{item:!0,xs:12,children:[(0,r.jsx)(o.Z,{gutterBottom:!0,children:"Your email address:"}),(0,r.jsx)(l.Z,{size:"small",variant:"outlined",style:{width:"100%",maxWidth:400},name:"email",onChange:k,error:!!v.email,helperText:v.email,value:y.email})]}),(0,r.jsxs)(a.Z,{item:!0,xs:12,children:[(0,r.jsx)(o.Z,{gutterBottom:!0,children:"Your question or suggestion:"}),(0,r.jsx)(l.Z,{autoFocus:!0,multiline:!0,variant:"outlined",size:"small",style:{width:"100%"},rows:10,name:"text",onChange:k,error:!!v.text,helperText:v.text,value:y.text})]}),(0,r.jsx)(a.Z,{item:!0,xs:12,children:(0,r.jsx)(c.Z,{onClick:C,color:"secondary",variant:"contained",disabled:_,startIcon:_&&(0,r.jsx)(d.Z,{size:16,color:"inherit"}),children:"Submit"})})]})})})}},28295:function(e,t,i){"use strict";function r(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}i.d(t,{Z:function(){return r}})}},function(e){e.O(0,[2683,9774,2888,179],function(){return e(e.s=92796)}),_N_E=e.O()}]);