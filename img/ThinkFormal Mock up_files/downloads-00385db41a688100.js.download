(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5526],{18463:function(e,n,s){"use strict";var t=s(87462),r=s(45987),a=s(67294);s(45697);var o=s(86010),l=s(79895),i=s(1591),d=a.forwardRef(function(e,n){var s=e.classes,i=e.className,d=e.raised,c=(0,r.Z)(e,["classes","className","raised"]);return a.createElement(l.Z,(0,t.Z)({className:(0,o.Z)(s.root,i),elevation:void 0!==d&&d?8:1,ref:n},c))});n.Z=(0,i.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(d)},79912:function(e,n,s){"use strict";var t=s(87462),r=s(45987),a=s(67294);s(45697);var o=s(86010),l=s(1591),i=a.forwardRef(function(e,n){var s=e.classes,l=e.className,i=e.component,d=(0,r.Z)(e,["classes","className","component"]);return a.createElement(void 0===i?"div":i,(0,t.Z)({className:(0,o.Z)(s.root,l),ref:n},d))});n.Z=(0,l.Z)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(i)},65490:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/downloads",function(){return s(74296)}])},74296:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return g}});var t=s(85893),r=s(67294),a=s(41120),o=s(43832),l=s(41749),i=s(22318),d=s(18463),c=s(79912),h=s(8920),u=s(88222),m=s(41664),f=s.n(m),x=s(73727),w=s(18642),Z=s(72536),j=s(92122);let p=(0,a.Z)(e=>({root:{marginTop:e.spacing(4)}}));function g(){let[e,n]=(0,r.useState)(null),s=p(),a=(0,r.useCallback)(async()=>{let e=await fetch("/rest/downloads");n(await e.json())});return(0,r.useEffect)(()=>{a()},[]),(0,t.jsx)(o.Z,{maxWidth:"xl",className:s.root,children:(0,t.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,t.jsx)(l.Z,{item:!0,xs:12,children:(0,t.jsx)(i.Z,{variant:"h1",children:"My Files"})}),e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{item:!0,xs:12,children:(0,t.jsx)(d.Z,{variant:"outlined",children:(0,t.jsx)(c.Z,{children:0===e.in_progress.length&&0===e.queued.length&&0===e.completed.length?(0,t.jsxs)(i.Z,{variant:"body2",children:["The mock data files that you generate will appear here.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"There are no files to download at the moment."]}):(0,t.jsx)(i.Z,{variant:"body2",children:"The mock data files that you have generated appear here."})})})}),e.in_progress.length>0&&(0,t.jsx)(v,{title:"In Progress",downloads:e.in_progress,refresh:a}),e.queued.length>0&&(0,t.jsx)(v,{title:"Queued",downloads:e.queued,refresh:a}),e.completed.length>0&&(0,t.jsx)(v,{title:e.in_progress.length>0||e.queued.length>0?"Completed":void 0,downloads:e.completed,refresh:a})]}):(0,t.jsx)(x.Z,{})]})})}function v(e){let{title:n,downloads:s,refresh:a}=e,{refresh:o}=(0,r.useContext)(j.Z),l=(0,r.useCallback)(()=>{setTimeout(o,1e3)},[o]),d=(0,h.Z)();return(0,t.jsx)(Z.Z,{title:n,refresh:a,records:s,label:"File",apiPath:"downloads",newAs:"/downloads/new",newHref:"/downloads/[record_id]",columns:["File","# Rows","Generated"],style:{marginBottom:d.spacing(3)},row:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{children:e.success?(0,t.jsx)("a",{href:"/rest/downloads/".concat(e.id,"/download"),onClick:l,children:(0,t.jsx)(i.Z,{children:e.name})}):(0,t.jsx)(f(),{href:"/downloads/".concat(e.id),children:(0,t.jsx)(i.Z,{children:e.name})})}),(0,t.jsx)(i.Z,{variant:"body2",style:{opacity:.6},gutterBottom:!0,children:e.columns.join(" | ")})]}),(0,t.jsx)(u.Z,{children:e.num_rows}),(0,t.jsx)(u.Z,{style:{whiteSpace:"nowrap"},children:(0,t.jsx)(w.Z,{children:e.created_at})})]})})}}},function(e){e.O(0,[2683,62,2298,6367,6052,674,9774,2888,179],function(){return e(e.s=65490)}),_N_E=e.O()}]);